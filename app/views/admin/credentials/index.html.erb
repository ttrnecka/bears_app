<% provide(:title, 'Credentials') %>
<% turbolinks_no_cache %>
<div ng-controller="Admin::CredentialCtrl as ctrl">
	<table id="credentials_table" datatable="ng" dt-instance="ctrl.dtInstance" class="table table-striped table-bordered table-hover">
		<thead>
	    	<tr>
	        	<th>Description</th>
	        	<th>Account</th>
	            <th>Actions</th>
	        </tr>
		</thead>
		<tbody>
			<tr ng-repeat="credential in ctrl.credentials">
				<td>{{credential.description}}</td>
				<td>{{credential.account}}</td>
				<td>
					<div class="btn-group" uib-dropdown>
				      <button type="button" class="btn btn-primary" uib-dropdown-toggle ng-disabled="disabled">
				        Actions <span class="caret"></span>
				      </button>
				      <ul class="dropdown-menu" uib-dropdown-menu role="menu">
				        <li role="menuitem"><a href="javascript:void(0)" ng-click="ctrl.edit(credential)"><i class="fa fa-pencil fa-fw"></i> Edit</a></li>
				        <li role="menuitem"><a href="javascript:void(0)" ng-click="ctrl.delete(credential)"><i class="fa fa-trash fa-fw"></i> Delete</a></li>
				      </ul>
				    </div>		
				</td>
			</tr>
		</tbody>
	</table>
	
	<script type="text/ng-template" id="credentialEdit.html">
        <div class="modal-header">
            <h3 class="modal-title" id="modal-title">Edit Credential</h3>
        </div>
        <div class="modal-body" id="modal-body">
            <div class="panel-body">
				<fieldset>
			    	<div class="form-group">
			    		<input type="text" name="description" class="form-control" placeholder="Description" ng-model="ctrl.credential.description"/>
			        </div>
			        <div class="form-group">
			        	<input type="text" name="account" class="form-control" placeholder="Account" ng-model="ctrl.credential.account"/>
			        </div>
			        <div class="form-group">
			           	<input type="password" name="password" class="form-control" placeholder="Password" ng-model="ctrl.credential.password"/>
			        </div>
			        <div class="form-group">
			           	<input type="password" name="password_confirmation" class="form-control" placeholder="Password Confirmation" ng-model="ctrl.credential.password_confirmation"/>
			        </div>
				</fieldset>
			</div>
        </div>
        <div class="modal-footer">
            <button class="btn btn-primary" type="button" ng-click="ctrl.save()">Save</button>
            <button class="btn btn-warning" type="button" ng-click="ctrl.cancel()">Cancel</button>
        </div>
    </script>
    
    <script type="text/ng-template" id="YesNoModal.html">
        <div class="modal-header">
            <h3 class="modal-title" id="modal-title">Confirm</h3>
        </div>
        <div class="modal-body" id="modal-body">
            <span>{{ctrl.question}}?</span>
        </div>
        <div class="modal-footer">
            <button class="btn btn-primary" type="button" ng-click="ctrl.yes()">Yes</button>
            <button class="btn btn-warning" type="button" ng-click="ctrl.no()">No</button>
        </div>
    </script>

</div>
